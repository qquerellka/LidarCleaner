# LidarCleaner


![schema](assets/schema.png)

## –ó–∞–ø—É—Å–∫ (Backend + Frontend)

### 1) Backend (Docker Compose)

–í –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ backend –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É (PostgreSQL, MinIO, RabbitMQ):

```bash
cd backend
docker compose up -d --build
docker compose logs -f app
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è:

```bash
curl http://localhost:8000/health
```

### 2) Frontend (Electron + Vite)

–í–æ –≤—Ç–æ—Ä–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Electron c —É–∫–∞–∑–∞–Ω–∏–µ–º –∞–¥—Ä–µ—Å–∞ backend:

```bash
cd frontend
npm i
BACKEND_URL=http://localhost:8000 npm run dev
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `BACKEND_URL` = `http://localhost:8000`. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞ –¥—Ä—É–≥–æ–π –∞–¥—Ä–µ—Å.

### 3) –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

- –í –æ–∫–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞–∂–º–∏—Ç–µ ¬´Open PCD File¬ª –∏ –≤—ã–±–µ—Ä–∏—Ç–µ `.pcd` —Ñ–∞–π–ª ‚Äî –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –Ω–∞ backend —á–µ—Ä–µ–∑ POST `/files/upload_file`.
- –õ–æ–≥–∏ backend –º–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–º–∞–Ω–¥–æ–π:

```bash
cd backend
docker compose logs -f app
```

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞:

```javascript
await window.api.backendHealth()
```

## –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

- –û—Å–Ω–æ–≤–Ω–æ–µ
  - R ‚Äî Reset –∫–∞–º–µ—Ä—ã
  - F ‚Äî Fit –∫–æ –≤—Å–µ–π —Å—Ü–µ–Ω–µ
  - Alt+F ‚Äî Fit –∫ —Ç–æ—á–∫–µ/–∫–ª–∞—Å—Ç–µ—Ä—É –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º
  - G ‚Äî –í–∫–ª/–≤—ã–∫–ª —Å–µ—Ç–∫—É
  - X ‚Äî –í–∫–ª/–≤—ã–∫–ª –æ—Å–∏
  - H ‚Äî –î–æ–º–∞—à–Ω–∏–π –≤–∏–¥ (0,0,5 ‚Üí target 0,0,0)
  - O ‚Äî –ê–≤—Ç–æ–≤–æ—Ä–æ—Ç –∫–∞–º–µ—Ä—ã (toggle)

- –§–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞
  - Double click ‚Äî –§–æ–∫—É—Å –Ω–∞ —Ç–æ—á–∫—É –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º —Å –º—è–≥–∫–∏–º –ø–µ—Ä–µ–ª—ë—Ç–æ–º
  - Shift + Double click ‚Äî –î–æ–±–∞–≤–æ—á–Ω—ã–π —Ñ–æ–∫—É—Å (—Å–º–µ—à–∏–≤–∞–Ω–∏–µ —Å–æ —Å—Ç–∞—Ä—ã–º target)
  - Ctrl + Click ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å target –±–µ–∑ –ø–µ—Ä–µ–ª—ë—Ç–∞

- Presets (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage)
  - Alt+1..9 ‚Äî –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–µ—Å–µ—Ç
  - Ctrl+Alt+1..9 ‚Äî –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–µ—Å–µ—Ç

- Fly-—Ä–µ–∂–∏–º (–æ–≥–ª—è–¥/–ø–æ–ª—ë—Ç)
  - T ‚Äî –í–∫–ª/–≤—ã–∫–ª fly-mode
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: WASD ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ, Q/E ‚Äî –≤–Ω–∏–∑/–≤–≤–µ—Ä—Ö
  - –ú—ã—à—å ‚Äî –ø–æ–≤–æ—Ä–æ—Ç (yaw/pitch)
  - Shift ‚Äî —É—Å–∫–æ—Ä–µ–Ω–∏–µ, Ctrl ‚Äî –º–µ–¥–ª–µ–Ω–Ω–µ–µ/—Ç–æ—á–Ω–µ–µ

- –ñ–µ—Å—Ç—ã
  - Alt + –∫–æ–ª–µ—Å–æ ‚Äî –∏–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä —Ç–æ—á–µ–∫ (—ç–∫—Ä–∞–Ω–Ω—ã–π)
  - Zoom –∫ –∫—É—Ä—Å–æ—Ä—É ‚Äî –≤–∫–ª—é—á—ë–Ω (OrbitControls.zoomToCursor)
  - –ü–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —Å—Ä–µ–¥–Ω—è—è –∫–Ω–æ–ø–∫–∞; –≤—Ä–∞—â–µ–Ω–∏–µ ‚Äî –ø—Ä–∞–≤–∞—è –∫–Ω–æ–ø–∫–∞

- –ü—Ä–æ—á–µ–µ
  - –ê–≤—Ç–æ–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –æ–±–ª–∞–∫–∞ –ø–æ –ø–ª–æ—Å–∫–æ—Å—Ç–∏: —Ç–æ–Ω–∫–∞—è –æ—Å—å ‚Üí Y-up, –∑–∞—Ç–µ–º –æ–ø—É—Å–∫–∞–Ω–∏–µ –Ω–∞ y=0
  - –ú–∏–Ω–∏-–∫–æ–º–ø–∞—Å –≤ —É–≥–ª—É; –∫–ª–∏–∫–∏ –¥–∞—é—Ç –±—ã—Å—Ç—Ä—ã–µ –≤–∏–¥—ã (Front/Side/Top)
  - –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–º–µ—Ä—ã (position/target) —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

---

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

LidarCleaner ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä –ª–∏–¥–∞—Ä–Ω—ã—Ö –∫–∞—Ä—Ç, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—é—â–∏–π —É–¥–∞–ª–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–ø–µ—à–µ—Ö–æ–¥—ã, –º–∞—à–∏–Ω—ã –∏ —Ç.–ø.) –∏–∑ –æ–±–ª–∞–∫–æ–≤ —Ç–æ—á–µ–∫. –ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Electron/React (Frontend), —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ Go (Backend), —Ö—Ä–∞–Ω–∏–ª–∏—â –¥–∞–Ω–Ω—ã—Ö (PostgreSQL, MinIO) –∏ CV-–≤–æ—Ä–∫–µ—Ä–∞ –Ω–∞ Python —Å –º–æ–¥–µ–ª—è–º–∏ —Å–µ–º–µ–π—Å—Ç–≤–∞ PointNet/PointNet++ –¥–ª—è –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∏.

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ `.pcd` —Ñ–∞–π–ª–æ–≤ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –æ–±–ª–∞–∫–æ–≤ —Ç–æ—á–µ–∫ –≤ 3D.
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π, –ø—Ä–µ—Å–µ—Ç—ã, —Ñ–æ–∫—É—Å –Ω–∞ —Ç–æ—á–∫–∞—Ö/–∫–ª–∞—Å—Ç–µ—Ä–∞—Ö, fly-—Ä–µ–∂–∏–º.
- –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±–ª–∞–∫–∞ —Ç–æ—á–µ–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—á–∏—â–µ–Ω–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MinIO –¥–ª—è –æ–±—ä–µ–∫—Ç–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ PostgreSQL –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö.
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ RabbitMQ –∏ CV-–≤–æ—Ä–∫–µ—Ä –Ω–∞ Python (PointNet/PointNet++).

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å—Ö–µ–º—É —Å–º. –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ `assets/schema.png`.

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- Backend (Go + Gin): REST API, –∑–∞–≥—Ä—É–∑–∫–∞/–≤—ã–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –≤ MinIO, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å RabbitMQ.
- CV Worker (Python): –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è, –ø–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ MinIO, –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –º–æ–¥–µ–ª–∏, –∑–∞–ø–∏—Å—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –æ–±—Ä–∞—Ç–Ω–æ –≤ MinIO, –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ RabbitMQ.
- –•—Ä–∞–Ω–∏–ª–∏—â–∞: PostgreSQL (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ), MinIO (–∏—Å—Ö–æ–¥–Ω—ã–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ `.pcd`).
- Frontend (Electron + React + Vite + Three.js): UI, —Ä–µ–Ω–¥–µ—Ä –æ–±–ª–∞–∫–æ–≤ —Ç–æ—á–µ–∫, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Backend.

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

Backend (Go):
- `PORT` ‚Äî –ø–æ—Ä—Ç HTTP-—Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `8000`).
- `DATABASE_URL` ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL, –Ω–∞–ø—Ä.: `postgresql://postgres:postgres@db:5432/postgres?sslmode=disable`.
- `RABBITMQ_URL` ‚Äî URL RabbitMQ, –Ω–∞–ø—Ä.: `amqp://guest:guest@rabbitmq:5672/`.
- `MINIO_ENDPOINT` ‚Äî –∞–¥—Ä–µ—Å MinIO, –Ω–∞–ø—Ä.: `minio:9000`.
- `MINIO_ROOT_USER`, `MINIO_ROOT_PASSWORD` ‚Äî —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ MinIO.
- `MINIO_BUCKET_NAME` ‚Äî –∏–º—è –±–∞–∫–µ—Ç–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤.
- `MINIO_USE_SSL` ‚Äî `true|false` –¥–ª—è SSL –∫ MinIO.

Frontend (Electron):
- `BACKEND_URL` ‚Äî –∞–¥—Ä–µ—Å backend API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:8000`).

CV Worker (Python):
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `RABBITMQ_URL`, `MINIO_*`, `MINIO_BUCKET_NAME` –∏–∑ docker-compose.

## API (Backend)

–ë–∞–∑–æ–≤—ã–π URL: `http://<host>:8000`

- `GET /health` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞.
- `POST /files/upload_file` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.
  - –§–æ—Ä–º–∞—Ç: `multipart/form-data`, –ø–æ–ª–µ `file` ‚Äî `.pcd`.
  - –ü–æ–≤–µ–¥–µ–Ω–∏–µ: —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±—ä–µ–∫—Ç –≤ MinIO –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Ç–æ–∫ —Ñ–∞–π–ª–∞ (–¥–ª—è —Ç–µ—Å—Ç–æ–≤/–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏).
- `POST /files/download` ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞ —Å –æ—Ç–≤–µ—Ç–æ–º –ø–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏.
  - –§–æ—Ä–º–∞—Ç: `multipart/form-data`, –ø–æ–ª–µ `file` ‚Äî `.pcd`.
  - –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å: —Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ MinIO ‚Üí –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ë–î ‚Üí —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ RabbitMQ (exchange `pcd_files`, `fanout`, `replyTo` –≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å) ‚Üí –æ–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –æ—Ç CV-–≤–æ—Ä–∫–µ—Ä–∞ ‚Üí –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∫–ª—é—á–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –∏–∑ MinIO —Å–µ—Ä–≤–µ—Ä –æ—Ç–¥–∞—ë—Ç –ø–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ (curl):

```bash
curl -X POST http://localhost:8000/files/download \
  -F "file=@sample.pcd" \
  -o cleaned.pcd
```

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
1) Frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç `.pcd` ‚Üí Backend (`/files/download`).
2) Backend —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±—ä–µ–∫—Ç –≤ MinIO, –ø–∏—à–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ PostgreSQL.
3) Backend –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ –≤ RabbitMQ (`pcd_files`, `fanout`), —É–∫–∞–∑—ã–≤–∞–µ—Ç `replyTo` –∏ `correlationId`.
4) CV-–≤–æ—Ä–∫–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ, —á–∏—Ç–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π `.pcd` –∏–∑ MinIO, –ø—Ä–∏–º–µ–Ω—è–µ—Ç PointNet/PointNet++ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∏–Ω–∞–º–∏–∫–∏, –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π `.pcd` –≤ MinIO.
5) CV-–≤–æ—Ä–∫–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –≤ `replyTo` —Å `correlationId`.
6) Backend –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏ —Å—Ç—Ä–∏–º–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π `.pcd` –≤ –∫–ª–∏–µ–Ω—Ç.

## –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker (Backend + –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ + CV worker)

–°–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—ã—à–µ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ó–∞–ø—É—Å–∫ (Backend + Frontend)¬ª. –ö–æ—Ä–æ—Ç–∫–æ:

```bash
cd backend
docker compose up -d --build
docker compose logs -f app
```

–ü–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:
- Backend: `http://localhost:8000`
- MinIO: `http://localhost:9000` (–∫–æ–Ω—Å–æ–ª—å: `http://localhost:9001` –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞)
- PostgreSQL: `localhost:5432`
- RabbitMQ Management: `http://localhost:15672` (guest/guest)

## –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

Frontend:

```bash
cd frontend
npm i
BACKEND_URL=http://localhost:8000 npm run dev
```

Backend (–ª–æ–∫–∞–ª—å–Ω–æ, –±–µ–∑ Docker) ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ PostgreSQL/MinIO/RabbitMQ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `.env`:

```bash
cd backend
go run .
```

## CV-–≤–æ—Ä–∫–µ—Ä (Python)

–ö–æ–¥ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ `backend/cv_worker`. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `docker-compose` –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ `RABBITMQ_URL`/MinIO. –ú–æ–¥–µ–ª–∏ PointNet/PointNet++ –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `Pointnet_Pointnet2_pytorch/`. –î–ª—è —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —É–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ Python 3.10+, PyTorch –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∞ —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è MinIO/RabbitMQ. –†–µ—Å—É—Ä—Å–Ω—ã–µ –ª–∏–º–∏—Ç—ã –∑–∞–¥–∞—é—Ç—Å—è –≤ compose.

## –¢—Ä–∞–±–ª—à—É—Ç–∏–Ω–≥
- Backend –Ω–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å PostgreSQL/MinIO/RabbitMQ –∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (`DATABASE_URL`, `MINIO_*`, `RABBITMQ_URL`).
- MinIO –±–∞–∫–µ—Ç –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `MINIO_ROOT_USER`/`MINIO_ROOT_PASSWORD` –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã –∏ —Å–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `MINIO_ENDPOINT`.
- –ù–µ—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç –≤–æ—Ä–∫–µ—Ä–∞: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ `cv-worker`, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å RabbitMQ (`http://localhost:15672`), –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å exchange `pcd_files` –∏ –Ω–∞–ª–∏—á–∏–µ –æ—Ç–≤–µ—Ç–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏.
- –ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç —Ñ–∞–π–ª–∞: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞ –≤ MinIO –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∞ `.pcd` –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.

## Roadmap (–∫—Ä–∞—Ç–∫–æ)
- –í—ã–±–æ—Ä/–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ –∏–∑ UI.
- –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ LAS/LAZ, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤/–∏–∑ `.pcd`.
- –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–ª–∞—Å—Ç–µ–π –≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–¥ –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–æ–π.
- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∏—Ñ—Ñ–∞ ¬´–¥–æ/–ø–æ—Å–ª–µ¬ª –∏ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞.


## –†–µ–¥–∞–∫—Ç–æ—Ä –ª–∏–¥–∞—Ä–Ω—ã—Ö –∫–∞—Ä—Ç: ML-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —É–¥–∞–ª–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏–∫–∏ (–¥–≤–∏–∂—É—â–∏–µ—Å—è –æ–±—ä–µ–∫—Ç—ã/—Å—Ç–æ—è—â–∏–µ –∞–≤—Ç–æ) –∏–∑ –ª–∏–¥–∞—Ä–Ω—ã—Ö PCD/Ply-–æ–±–ª–∞–∫–æ–≤ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∫–∞—Ä—Ç.**

### üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

-   **–Ø–∑—ã–∫–∏/ML**: `Python`, `PyTorch (PointNet++)`
-   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö**: `PCL`, `Open3D`, `CloudCompare`
-   **–û–°/–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**: `Jupyter`, `Colab`, `Kaggle`

### üìä –î–∞—Ç–∞—Å–µ—Ç—ã –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞

#### KITTI-360

-   **–¢–∏–ø**: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã.
-   **–û–±—Ä–∞–±–æ—Ç–∫–∞**:
    -   –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —à—É–º–æ–≤.
    -   –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è (x, y, z + intensity).
    -   Oversampling + Downsampling majority
    -   Object Isolation
    -   –ê—É–≥–º–µ–Ω—Ç–∞—Ü–∏—è (—Ä–æ—Ç–∞—Ü–∏–∏, scaling).
    -   –†–∞–∑–º–µ—Ç–∫–∞ –∫–ª–∞—Å—Å–æ–≤.
-   **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—ä–µ–∫—Ç—ã –≤ –¥–≤–∏–∂–µ–Ω–∏–∏.
-   **–ò—Ç–æ–≥–æ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞ –º–æ–¥–µ–ª–∏**: mIoU = 0.5388

#### Toronto-3D

-   **–¢–∏–ø**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã (—Å—Ç–æ—è—â–∏–µ –∞–≤—Ç–æ).
-   **–û–±—Ä–∞–±–æ—Ç–∫–∞**:
    -   –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è PCD.
    -   –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è.
    -   –ê—É–≥–º–µ–Ω—Ç–∞—Ü–∏—è (—Å–¥–≤–∏–≥–∏, jitter).
    -   –ë–∞–ª–∞–Ω—Å –∫–ª–∞—Å—Å–æ–≤.
-   **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –î–ª—è –º–æ–¥–µ–ª–∏ –Ω–∞ —Å—Ç–æ—è—â–∏–µ –æ–±—ä–µ–∫—Ç—ã.

#### –û–±—â–µ–µ

-   **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ**: Train/val/test (80/10/10).
-   **–§–æ—Ä–º–∞—Ç—ã**: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤.

### üöÄ ML Pipeline

1.  **–í—Ö–æ–¥**: PCD-—Ñ–∞–π–ª (e.g., `points.pcd`, `points.ply`).
2.  **–ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —à—É–º–æ–≤, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è.
3.  **–°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è**:
    -   **–ú–æ–¥–µ–ª—å 1 (PointNet++ –Ω–∞ KITTI-360)**: 0.6 * Loss Focal + 0.4 * Lov√°sz, –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –¥–≤–∏–∂–µ–Ω–∏–∏.
    -   **–ú–æ–¥–µ–ª—å 2 (PointNet++ –Ω–∞ Toronto-3D)**: Loss Focal + IoU + Dice, –¥–ª—è —Å—Ç–æ—è—â–∏—Ö –∞–≤—Ç–æ.
4.  **–£–¥–∞–ª–µ–Ω–∏–µ**: –°–ª–∏—è–Ω–∏–µ –º–∞—Å–æ–∫, –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ—á–µ–∫.
5.  **–ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥—ã—Ä —Å—Ä–µ–¥–Ω–µ–π –≤—ã—Å–æ—Ç–æ–π (Open3D), –≤—ã–≤–æ–¥ `processed_points.pcd`.
6.  **–í–∞–ª–∏–¥–∞—Ü–∏—è**:
    -   **–ú–µ—Ç—Ä–∏–∫–∏**: Accuracy, mIoU. 
    -   **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: CloudCompare.
  
### –ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∞ –≥—É–≥–ª –¥–∏—Å–∫–µ:

[üì• –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∞–π–ª—ã –Ω–∞ –≥—É–≥–ª –¥–∏—Å–∫–µ](https://drive.google.com/drive/folders/1abSbwNjoH2PJCoDO8GT03x_V9Ol97dJK?usp=sharing)

### –°—Å—ã–ª–∫–∏ –Ω–∞ –º–æ–¥–µ–ª–∏:
[model_for_action](https://drive.google.com/file/d/10Ki47nx4Y5HdIdCFVNeZQijL_kU3N7Zr/view?usp=sharing)
[model_for_static](https://drive.google.com/file/d/1JONN8qzJO-GcnOFNhZZNlPNaZOpCqaUD/view?usp=sharing)


## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –¥–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è. 

(–¢–∞–∫ –∂–µ –¥–ª—è —Ç–µ—Å—Ç–∞ –¥—Ä—É–≥–∏—Ö `.ply` –∏–ª–∏ `.pcd` —Ñ–∞–π–ª–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–ª–æ–∫–Ω–æ—Ç [inference.ipynb](https://github.com/qquerellka/LidarCleaner/blob/dev/inference.ipynb) )

<table>
  <tr>
    <td align="center"><strong>–î–æ</strong></td>
    <td align="center"><strong>–ü–æ—Å–ª–µ</strong></td>
  </tr>
  <tr>
    <td><img src="https://github.com/qquerellka/LidarCleaner/blob/dev/smp1.jpeg" alt="–î–æ" width="100%"></td>
    <td><img src="https://github.com/qquerellka/LidarCleaner/blob/dev/after_model_smp1.jpeg" alt="–ü–æ—Å–ª–µ" width="100%"></td>
  </tr>
    <tr>
    <td><img src="https://github.com/qquerellka/LidarCleaner/blob/dev/smp2.jpeg" alt="–î–æ" width="100%"></td>
    <td><img src="https://github.com/qquerellka/LidarCleaner/blob/dev/after_model_smp2.jpeg" alt="–ü–æ—Å–ª–µ" width="100%"></td>
  </tr>
</table>

